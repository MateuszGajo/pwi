function e(e,t,r,a){Object.defineProperty(e,t,{get:r,set:a,enumerable:!0,configurable:!0})}function t(e){return e&&e.__esModule?e.default:e}var r="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},a={},i={},s=r.parcelRequire2d28;null==s&&((s=function(e){if(e in a)return a[e].exports;if(e in i){var t=i[e];delete i[e];var r={id:e,exports:{}};return a[e]=r,t.call(r.exports,r,r.exports),r.exports}var s=new Error("Cannot find module '"+e+"'");throw s.code="MODULE_NOT_FOUND",s}).register=function(e,t){i[e]=t},r.parcelRequire2d28=s),s.register("8hQp0",(function(t,r){var a,i;e(t.exports,"register",(function(){return a}),(function(e){return a=e})),e(t.exports,"resolve",(function(){return i}),(function(e){return i=e}));var s={};a=function(e){for(var t=Object.keys(e),r=0;r<t.length;r++)s[t[r]]=e[t[r]]},i=function(e){var t=s[e];if(null==t)throw new Error("Could not resolve bundle with id "+e);return t}})),s("8hQp0").register(JSON.parse('{"jT9sH":"memorygame.d506c35f.js","a9aem":"bananas.2ac2a402.png","eQd9j":"cherries.51646105.png","bAd3m":"popcorn.4073faad.png","a4DYJ":"bmw.0e650f28.png","4vOT8":"hamburger.38830bf6.png","hOil2":"cheese.466f806e.png","9aa8j":"toothbrush.a7dde39a.png","ewMqn":"fox.d665b38a.png"}'));var n;n=new URL(s("8hQp0").resolve("a9aem"),import.meta.url).toString();var o;o=new URL(s("8hQp0").resolve("eQd9j"),import.meta.url).toString();var c;c=new URL(s("8hQp0").resolve("bAd3m"),import.meta.url).toString();var d;d=new URL(s("8hQp0").resolve("a4DYJ"),import.meta.url).toString();var l;l=new URL(s("8hQp0").resolve("4vOT8"),import.meta.url).toString();var u;u=new URL(s("8hQp0").resolve("hOil2"),import.meta.url).toString();var h;h=new URL(s("8hQp0").resolve("9aa8j"),import.meta.url).toString();var p;p=new URL(s("8hQp0").resolve("ewMqn"),import.meta.url).toString();const f=[t(n),t(o),t(c),t(d),t(l),t(u),t(h),t(p)],m={easy:4,medium:8,hard:16},g=document.body.querySelector(".container__game"),_=(e,t)=>{const r=document.createElement("div");r.classList.add("container__game__box"),r.classList.add(`container__game__box--${e}`),r.setAttribute("data-id",e);const a=document.createElement("img");return a.classList.add("container__game__box__image"),a.setAttribute("alt","card image"),a.setAttribute("width","100px"),a.setAttribute("height","100px"),a.src=t,r.appendChild(a),r};var v=class{startGame(){this.generatePairs(),this.createBoard(),this.peekCards(),this.startListening()}restartGame(){document.querySelectorAll(".container__game__box").forEach((e=>e.remove())),this.resetState(),this.startGame()}resetState(){this.state={...this.state,pairsFounded:0,pairs:[],peekedCards:[]}}generatePairs(){const e=(e=>{const t=[];for(let r=0;r<e.length;r+=2){const a=[e[r],e[r+1]];t.push(a)}return t})((e=>{const t=[];for(;t.length<e;){const r=Math.floor(Math.random()*e)+1;-1===t.indexOf(r)&&t.push(r)}return t})(m[this.state.difficulty]));this.state.pairs=e}createBoard(){const e=((e,t)=>{const r=[];for(;r.length<t.length;){const t=Math.floor(Math.random()*e);-1===r.indexOf(t)&&r.push(t)}const a=[];for(let e=0;e<t.length;e++){const i=t[e][0],s=t[e][1],n=f[r[e]],o=_(i,n),c=_(s,n);a.push(o),a.push(c)}return a})(f.length,this.state.pairs);e.forEach((e=>g.appendChild(e)))}peekCards(){this.state.activity="peek";const e=document.body.querySelectorAll(".container__game__box");e.forEach((e=>{e.setAttribute("data-active",!0)})),setTimeout((()=>{e.forEach((e=>{e.removeAttribute("data-active"),this.state.activity="game"}))}),2500)}startListening(){document.body.querySelectorAll(".container__game__box").forEach((e=>{e.addEventListener("click",this.peekCard.bind(this))}))}peekCard(e){"peek"!==this.state.activity&&(this.state.activity="peek",this.state.peekedCards.push(e.target.getAttribute("data-id")),e.target.setAttribute("data-active",!0),this.checkPair())}changeDifficulty(e){this.state.difficulty=e,this.restartGame()}async checkPair(){if(this.state.peekedCards.length<2)return void(this.state.activity="game");const e=this.state.peekedCards,t=this.state.pairs.find((e=>e[0]==this.state.peekedCards[0]||e[1]==this.state.peekedCards[0])).sort().toString()===e.sort().toString();var r;await(r=1e3,new Promise((e=>setTimeout(e,r)))),t?(this.state.pairsFounded++,this.flipRevealedCards()):this.hideRevealedCards(),this.state.peekedCards=[],this.checkForWinner(),this.state.activity="game"}flipRevealedCards(){document.body.querySelectorAll(".container__game__box").forEach((e=>{const t=e.getAttribute("data-id");this.state.peekedCards.includes(t)&&e.setAttribute("data-invisible",!0)}))}hideRevealedCards(){document.body.querySelectorAll(".container__game__box").forEach((e=>{const t=e.getAttribute("data-id");this.state.peekedCards.includes(t)&&e.removeAttribute("data-active")}))}checkForWinner(){m[this.state.difficulty]===2*this.state.pairsFounded&&(alert("wygraÅ‚es!"),this.restartGame())}constructor(){var e,t,r;r={pairs:[],peekedCards:[],difficulty:"easy",pairsFounded:0,activity:"pending"},(t="state")in(e=this)?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}};const b=e=>{const t=e.target.getAttribute("data-type");document.querySelectorAll(".container__difficulty__type").forEach((e=>{e.hasAttribute("data-active")&&e.removeAttribute("data-active")})),document.querySelector(`.container__difficulty__type--${t}`).setAttribute("data-active",!0),y.changeDifficulty(t)};document.querySelectorAll(".container__difficulty__type").forEach((e=>{e.addEventListener("click",b)}));const y=new v;y.startGame();
//# sourceMappingURL=memorygame.d506c35f.js.map
